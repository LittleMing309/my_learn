<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>获取自身位置的元素</title>
	<script>
		window.onload = function(){
			var oDiv = document.getElementById('box');
			oDiv.onclick = function(){
				alert(getPos(this).top);
			}
		}
		function getPos(obj){
			var l = 0;
			var t = 0;
			while(obj){
				l+=obj.offsetLeft;
				t+=obj.offsetTop;
				obj = obj.offsetParent;
			}
			return {left:l,top:t}
		}
	</script>
</head>
<body>
	<div style=" position:relative; margin-left:100px;">
		<div style="margin-left:10px;">
			<div id="box" style=" width:200px; height:200px; background:red ;margin:100px;"></div>
		</div>
	</div>
</body>
</html>