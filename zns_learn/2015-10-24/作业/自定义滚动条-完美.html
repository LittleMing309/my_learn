<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>自定义滚动条-完美</title>
	<style type="text/css">
		#box{ width: 600px; height: 300px; border:1px solid red; margin-left:200px; overflow: hidden; }
		#contbox{ width: 580px; float: left; }
		#scrollbox{ float: right; width: 20px; background: #eee; height: 100%; position: relative;}
		#btn{ height: 20px; width: 20px; position: absolute; top: 0;left: 0; background: pink;}
	</style>
	<script src="wheel.js"></script>
	<script type="text/javascript">
		window.onload = function(){
			var oBox = document.getElementById('box');
			var oContbox = document.getElementById('contbox');
			var oScrollbox = document.getElementById('scrollbox');
			var oBtn = document.getElementById('btn');

			mouseWheel(oBox,function(bDown){
				var t = oBtn.offsetTop;
				if(bDown){
					t+=10;
				}else{
					t-=10;
				}
				setTop(t);
			});

			function setTop(t){
				if(t < 0){ t = 0};
				if(t > oScrollbox.offsetHeight - oBtn.offsetHeight){ t = oScrollbox.offsetHeight - oBtn.offsetHeight};
				var scale = t/(oScrollbox.offsetHeight - oBtn.offsetHeight);
				var oT = -(oContbox.offsetHeight - oBox.offsetHeight)*scale;
				oBtn.style.top = t + 'px';
				oContbox.style.marginTop = oT + 'px';
			};

			oBtn.onmousedown = function(ev){
				var oEvent = ev || event;
				var disY = oEvent.clientY - oBtn.offsetTop;
				document.onmousemove = function(ev){
					var oEvent = ev || event;
					var t = oEvent.clientY - disY;
					setTop(t);
				};
				document.onmouseup = function(){
					document.onmousemove = null;
					document.onmouseup = null;
				};
				return false;
			};
		}
	</script>
</head>
<body>
	<div id="box">
		<div id="contbox">读作nián时，词性是形容词，形声字，从米，占声。本义是具有粘性。
如：粘粥（粘稠的粥）；踩在一些粘东西上；粘涎（口涎；亦在方言中谓言语、举止不爽利，令人乏味）；粘稠（浓厚而带粘性）；粘粘涎涎（形容言语不简要）。
律诗术语，在律诗中，后一联的出句（即第一句）的第二个字和前一联的对句（即第二句）的第二个字平仄必须相同，这叫“粘”。
同时，“粘”读作nián时，是指物体的附着性非常高。
读作zhān时，词性是动词，指粘（ nián）的东西互相连接或附着在别的东西上。
如：粘连zhānlián：[指纸] 在温度、湿度和压力影响下粘在一起；粘竿（一种顶端涂粘质，用以捕鸟的竹竿）；粘着（用胶质把物体固定在一起；亦指执着，不能超脱）。
网络释义：读nián时，词性是形容词，意为把事情说给毫不知情的人听，事情说得越详细，对方越糊涂，觉得你太~糊，往往这时对方就会曲解你所表达的意思。即以肤浅的方式错误地理解该事物。读作nián时，词性是形容词，形声字，从米，占声。本义是具有粘性。
如：粘粥（粘稠的粥）；踩在一些粘东西上；粘涎（口涎；亦在方言中谓言语、举止不爽利，令人乏味）；粘稠（浓厚而带粘性）；粘粘涎涎（形容言语不简要）。
律诗术语，在律诗中，后一联的出句（即第一句）的第二个字和前一联的对句（即第二句）的第二个字平仄必须相同，这叫“粘”。
同时，“粘”读作nián时，是指物体的附着性非常高。
读作zhān时，词性是动词，指粘（ nián）的东西互相连接或附着在别的东西上。
如：粘连zhānlián：[指纸] 在温度、湿度和压力影响下粘在一起；粘竿（一种顶端涂粘质，用以捕鸟的竹竿）；粘着（用胶质把物体固定在一起；亦指执着，不能超脱）。
网络释义：读nián时，词性是形容词，意为把事情说给毫不知情的人听，事情说得越详细，对方越糊涂，觉得你太~糊，往往这时对方就会曲解你所表达的意思。即以肤浅的方式错误地理解该事物。读作nián时，词性是形容词，形声字，从米，占声。本义是具有粘性。
如：粘粥（粘稠的粥）；踩在一些粘东西上；粘涎（口涎；亦在方言中谓言语、举止不爽利，令人乏味）；粘稠（浓厚而带粘性）；粘粘涎涎（形容言语不简要）。
律诗术语，在律诗中，后一联的出句（即第一句）的第二个字和前一联的对句（即第二句）的第二个字平仄必须相同，这叫“粘”。
同时，“粘”读作nián时，是指物体的附着性非常高。
读作zhān时，词性是动词，指粘（ nián）的东西互相连接或附着在别的东西上。
如：粘连zhānlián：[指纸] 在温度、湿度和压力影响下粘在一起；粘竿（一种顶端涂粘质，用以捕鸟的竹竿）；粘着（用胶质把物体固定在一起；亦指执着，不能超脱）。
网络释义：读nián时，词性是形容词，意为把事情说给毫不知情的人听，事情说得越详细，对方越糊涂，觉得你太~糊，往往这时对方就会曲解你所表达的意思。即以肤浅的方式错误地理解该事物。</div>
		<div id="scrollbox">
			<span id="btn"></span>
		</div>
	</div>
</body>
</html>