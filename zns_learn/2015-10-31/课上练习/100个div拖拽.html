<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>100个div拖拽</title>
	<style type="text/css">
		div{ height: 100px; width: 100px; position: absolute;}
	</style>
</head>
<script type="text/javascript">
	window.onload = function(){
		for(var i = 0; i<100; i++){
			var oDiv = document.createElement('div');
			document.body.appendChild(oDiv);
			oDiv.style.left = rad(0,1200) + 'px';
			oDiv.style.top = rad(0,600) + 'px';
			oDiv.style.background = 'rgb('+rad(0,255)+','+rad(0,255)+','+rad(0,255)+')';
			darg(oDiv);
		};
		function rad(m,n){
			return parseInt(Math.random()*(m-n)+n);
		};
	}
	function darg(obj){
		obj.onmousedown = function(ev){
			var oEvent = ev || event;
			var disX=	oEvent.clientX-obj.offsetLeft;
			var disY=	oEvent.clientY-obj.offsetTop;
			document.onmousemove=function(ev){
					var oEvent=ev||event;
					var l = oEvent.clientX-disX;
					var t = oEvent.clientY-disY;
					obj.style.left=l+'px';
					obj.style.top=t+'px';
			};
			document.onmouseup=function(){
					document.onmousemove=null;
					document.onmouseup=null;
					obj.releaseCapture&&obj.releaseCapture();
			};
			obj.setCapture&&obj.setCapture();
			return false;
		}
	}
</script>
<body>
	
</body>
</html>