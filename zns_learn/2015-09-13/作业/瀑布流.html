<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>瀑布流</title>
	<style>
		*{ margin:0; padding: 0; }
		li{ list-style: none;}
		#box ul{float:left; width:300px; border:1px solid #000; margin-left:18px; padding:10px 0; }
		#box li{ background:#CCC; margin-top:10px;}
	</style>
	<script>
		window.onload = function(){
			var oBox = document.getElementById('box');
			var aUl = oBox.getElementsByTagName('ul');
			function create20(){
				for(var i = 0; i<20; i++){
					var oLi = document.createElement('li');
					oLi.style.height = Math.random()*(500-100)+100+'px';
					var arr = [];
					for(var j = 0; j<aUl.length; j++){
						arr[j] = aUl[j];
					}
					arr.sort(function(ul1,ul2){
						return ul1.offsetHeight- ul2.offsetHeight;
					});
					arr[0].appendChild(oLi);
				}
			}
			create20();
			window.onscroll = function(){
				var sH = document.documentElement.scrollTop || document.body.scrollTop;
				var cH = document.documentElement.clientHeight;
				if( document.documentElement.scrollHeight <= sH+cH){
					create20();
				}
			}
		}
	</script>
</head>
<body>
	<div id="box">
		<ul></ul>
		<ul></ul>
		<ul></ul>
	</div>
</body>
</html>