<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
	*{ padding:0; margin:0;}
	li{ list-style:none;}
	.box{ width:960px; margin:0 auto; border:1px solid red; overflow:hidden;}
	.box ul{ float:left; width:300px; border:1px solid #000; margin-left:18px; padding:10px 0;}
	.box li{ background:#CCC; margin-top:10px;}
</style>
<script>

	window.onload=function(){
		function create20(){
		for(var i=0; i<20; i++){
			var oLi=document.createElement('li');
			oLi.style.height=Math.random()*(500-100)+100+'px';
			var h1=aUl[0].offsetHeight;
			var h2=aUl[1].offsetHeight;
			var h3=aUl[2].offsetHeight;
			if(h1<h2){
				if(h1<h3){
					aUl[0].appendChild(oLi);			
				}
				else{
					aUl[2].appendChild(oLi);		
				}
			}else{
				if(h2<h3){
					aUl[1].appendChild(oLi);			
				}else{
					aUl[2].appendChild(oLi);			
				}
			}
		}
	}
		var oBox=document.getElementById('box');
		var aUl=oBox.getElementsByTagName('ul');
		create20();
		window.onscroll=function(){
			var sH=document.documentElement.scrollTop || document.body.scrollTop;
			var cH=document.documentElement.clientHeight;
			if(document.documentElement.scrollHeight <= sH+cH){
					create20();
			}
		}
	}
</script>
</head>

<body>
	<div class="box" id="box">
		<ul></ul>
		<ul></ul>
		<ul></ul>
	</div>
</body>
</html>






